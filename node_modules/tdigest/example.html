<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>TDigest example</title>
    <script src="dist/tdigest.js"></script>
    <script>
        // Function to generate a random number in the range [0, 1)
        function getRandomNumber() {
            const crypto = window.crypto || window.msCrypto;
            const array = new Uint32Array(1);
            crypto.getRandomValues(array);
            // Convert to a float in the range [0, 1)
            return array[0] / (0xFFFFFFFF + 1);
        }

        document.addEventListener('DOMContentLoaded', () => {
            var td = new tdigest.TDigest();
            for (var i = 0; i < 1000000; i++) {
                td.push(getRandomNumber());
            }
            td.compress();

            // Display summary
            document.getElementById('summary').textContent = td.summary();
        });
    </script>
</head>
<body>
  <pre>
TDigest of 1M samples uniform in [0..1]:

<span id="summary"></span>
  </pre>
</body>
</html>

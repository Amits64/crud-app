<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>TDigest example</title>
    <!-- Load the TDigest library -->
    <script src="dist/tdigest.js"></script>
    <script>
        // Generate secure random values
        function generateSecureRandomValues(count) {
            const crypto = window.crypto || window.msCrypto;
            const array = new Uint32Array(count);
            crypto.getRandomValues(array);
            return array.map(val => val / 4294967295); // Normalizing to [0, 1)
        }

        // Generate secure random values using CSPRNG
        const td = new tdigest.TDigest();
        const randomValues = generateSecureRandomValues(1000000);
        randomValues.forEach(value => td.push(value));
        td.compress();
    </script>
</head>
<body>
    <pre>
        TDigest of 1M samples uniform in [0..1]:
        <script>document.write(td.summary())</script>
    </pre>
</body>
</html>

